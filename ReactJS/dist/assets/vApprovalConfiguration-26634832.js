import{r as s,a as y,u as C,b as f,p as I,d1 as E,d2 as c,j as t,C as S,au as N,d3 as h,g as x,d4 as b}from"./index-25a41ef1.js";import{P as j,A as T}from"./PageHeader-b76b68bd.js";import"./column.esm-11a46c7b.js";import"./index.esm-9a713e1a.js";import"./inputswitch.esm-a89edc74.js";const M=()=>{s.useState(null);const d=y(),r=C(),v=f(e=>e.approval.loading),p=f(e=>e.approval.ApprovalList);s.useState(!1),s.useState([]);const l=s.useRef(null);s.useEffect(()=>{I()}),s.useEffect(()=>{console.log("value",p),u()},[]);const u=()=>{r(E({ApprovalConfigurationId:0,Taskname:"SEARCHINITIALIZE"}))},[i,w]=s.useState({pageTitle:"Approval Configuration",pageHeader:{pageActions:[{create:!0,clear:!1,save:!1,createQuery:"/home/cApprovalConfiguration",createDispatch:()=>r(c({data:null,isView:!1,isCreate:!0}))}]},tableCheckSelection:!1,tableAction:!0,tableActionStyle:{textAlign:"center"},tableRows:10,tableRowsOptions:[5,10,25],tablePagination:!0,tableActions:[{title:"View",name:"view"},{title:"Edit",name:"edit"},{title:"Delete",name:"delete"}],tableColumns:[{title:"Company Name",name:"CompanyName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Plant Name",name:"PlantName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Document Name",name:"DocumentName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Created By",name:"CreatedByName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}}]}),A={view:e=>{const o={ApprovalConfigurationId:e.data.ApprovalConfigurationId,CompanyId:+localStorage.CompanyId,Taskname:"CREATEINITIALIZE"};r(h(o)).then(a=>{a.payload.transtatus.result==!0&&d.push("/home/cApprovalConfiguration")}).catch(a=>{}),r(c(e))},edit:e=>{const o={ApprovalConfigurationId:e.data.ApprovalConfigurationId,CompanyId:+localStorage.CompanyId,Taskname:"CREATEINITIALIZE"};r(h(o)).then(a=>{a.payload.transtatus.result==!0&&d.push("/home/cApprovalConfiguration")}).catch(a=>{}),r(c(e))},delete:e=>{x(`Are you sure you want to inactive this Approval
        ?`,"Confirmation",()=>{let o={ApprovalConfigurationId:e.data.ApprovalConfigurationId};r(b(o)).then(a=>{var n,g;a.payload.transtatus.result==!0?((n=l.current)==null||n.show({severity:"success",summary:"Success Message",detail:a.payload.transtatus.lstErrorItem[0].Message}),u()):a.payload.transtatus.result==!1&&((g=l.current)==null||g.show({severity:"error",summary:"Error Message",detail:a.payload.transtatus.lstErrorItem[0].Message}))}).catch(a=>{var n;(n=l.current)==null||n.show({severity:"error",summary:"Error Message",detail:JSON.stringify(a)})})},()=>{})}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"page-container",children:t.jsxs("div",{className:"inner-page-container",children:[t.jsx(j,{pageTitle:i.pageTitle,pageConfig:i}),t.jsx("div",{className:"form-container scroll-y",children:t.jsx("div",{className:"white",children:t.jsx("div",{className:"widget-body",children:t.jsx("div",{className:"card",children:t.jsx(T,{handleActions:A,data:p,loading:v,pageConfig:i})})})})})]})}),t.jsx(S,{}),t.jsx(N,{ref:l})]})};export{M as default};
