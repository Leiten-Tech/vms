import{r as l,a as y,u as v,b as E,p as I,a3 as w,a4 as u,j as a,C as A,d as C,a5 as g,g as j,a6 as F}from"./index-25a41ef1.js";import{P as M,A as P}from"./PageHeader-b76b68bd.js";import{e as p}from"./ExportService-4b3a6c99.js";import"./column.esm-11a46c7b.js";import"./index.esm-9a713e1a.js";import"./inputswitch.esm-a89edc74.js";import"./jspdf.es.min-40ee8370.js";const z=()=>{l.useState(null);const h=y(),c=l.useRef(null),i=v(),[T,f]=l.useState(!1),{NumberingSchemaViewList:S,loading:b,reload:O}=E(t=>t.numberingSchema);l.useEffect(()=>{I()}),l.useEffect(()=>{m()},[]);const m=()=>i(w({NumberingSchemaId:0,Taskname:"SearchInitialize"})),[d,R]=l.useState({pageTitle:"Numbering Schema",pageHeader:{pageActions:[{create:!0,clear:!1,save:!1,createQuery:"/home/cNumberingSchema",createDispatch:()=>i(u({data:null,isView:!1,isCreate:!0}))}]},tableCheckSelection:!1,tableAction:!0,tableActionStyle:{width:"120px",textAlign:"center"},tableRows:10,tableRowsOptions:[5,10,25],tablePagination:!0,tableActions:[{title:"View",name:"view"},{title:"Edit",name:"edit"},{title:"Delete",name:"delete"}],tableColumns:[{title:"Document",name:"FunctionName",sort:!0,avatar:!1,badge:!1,colStyle:{minWidth:"10rem"}},{title:"Prefix",name:"Prefix",sort:!0,avatar:!1,badge:!1,colStyle:{minWidth:"10rem"}},{title:"Suffix",name:"Suffix",sort:!0,avatar:!1,badge:!1,colStyle:{}},{title:"Created By",name:"CreatedByName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Created On",name:"CreatedOn",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Modified By",name:"ModifiedByName",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Modified On",name:"ModifiedOn",sort:!0,avatar:!0,badge:!1,colStyle:{minWidth:"6rem"}},{title:"Status",name:"StatusName",sort:!0,avatar:!1,badge:!0,colStyle:{minWidth:"2rem",textAlign:"center"}}],tableExport:t=>{m().then(n=>{N(n.payload.NumberingSchemaViewList).then(e=>{t==="pdf"?p.Export("NumberingSchema",e,"pdf"):t==="excel"&&p.Export("NumberingSchema",e,"excel")}).catch(e=>{console.error(e.message)})})}}),N=t=>new Promise((s,n)=>{let e=[];t.length>0?(t.forEach(r=>{let o={Document:r.FunctionName,Prefix:r.Prefix,Suffix:r.Suffix,Status:r.StatusName};e.push(o)}),s(e)):n(new Error("No data available for export."))}),x={view:t=>{const s={NumberingSchemaId:t.data.NumberingSchemaId,Taskname:"CREATEINITIALIZE"};i(g(s)).then(e=>{e.payload.transtatus.result==!0&&h.push("/home/cNumberingSchema")}).catch(e=>{}),i(u(t)),f(!0)},edit:t=>{const s={NumberingSchemaId:t.data.NumberingSchemaId,Taskname:"CreateInitialize"};i(g(s)).then(e=>{e.payload.transtatus.result==!0&&h.push("/home/cNumberingSchema")}).catch(e=>{}),i(u(t)),f(!0)},delete:t=>{j(`Are you sure you want to inactive this ${t.data.FunctionName}?`,"Confirmation",()=>{let s={NumberingSchemaId:t.data.NumberingSchemaId};i(F(s)).then(e=>{var r,o;e.payload.transtatus.result==!0?((r=c.current)==null||r.show({severity:"success",summary:"Success Message",detail:e.payload.transtatus.lstErrorItem[0].Message}),m()):e.payload.transtatus.result==!1&&((o=c.current)==null||o.show({severity:"error",summary:"Error Message",detail:e.payload.transtatus.lstErrorItem[0].Message}))}).catch(e=>{var r;(r=c.current)==null||r.show({severity:"error",summary:"Error Message",detail:JSON.stringify(e)})})},()=>{})}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"page-container",children:a.jsxs("div",{className:"inner-page-container",children:[a.jsx(M,{pageTitle:d.pageTitle,pageConfig:d}),a.jsx("div",{className:"form-container scroll-y",children:a.jsx("div",{className:"white",children:a.jsx("div",{className:"widget-body",children:a.jsx("div",{className:"card",children:a.jsx(P,{handleActions:x,data:S,loading:b,pageConfig:d})})})})})]})}),a.jsx(A,{}),a.jsx(C,{toast:c})]})};export{z as default};
