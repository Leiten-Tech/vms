import{am as ce,r as i,an as ue,bs as U,bt as fe,bl as N,bu as me,bC as g,bB as C,bK as pe,bA as R,ap as $,ao as y,bL as de,bJ as be,bn as ve,bq as ye,br as Se,bm as Ee}from"./index-25a41ef1.js";function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},I(t)}function ge(t,r){if(I(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var e=n.call(t,r||"default");if(I(e)!=="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ce(t){var r=ge(t,"string");return I(r)==="symbol"?r:String(r)}function Ie(t,r,n){return r=Ce(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Oe(t){if(Array.isArray(t))return t}function ke(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var e,m,S,s,f=[],p=!0,E=!1;try{if(S=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(e=S.call(n)).done)&&(f.push(e.value),f.length!==r);p=!0);}catch(d){E=!0,m=d}finally{try{if(!p&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(E)throw m}}return f}}function H(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function he(t,r){if(t){if(typeof t=="string")return H(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,r)}}function Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(t,r){return Oe(t)||ke(t,r)||he(t,r)||Pe()}var L=ce.extend({defaultProps:{__TYPE:"Sidebar",id:null,style:null,className:null,maskStyle:null,maskClassName:null,visible:!1,position:"left",fullScreen:!1,blockScroll:!1,baseZIndex:0,dismissable:!0,showCloseIcon:!0,closeIcon:null,ariaCloseLabel:null,closeOnEscape:!0,icons:null,modal:!0,appendTo:null,transitionOptions:null,onShow:null,onHide:null,children:void 0}});function V(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),n.push.apply(n,e)}return n}function we(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?V(Object(n),!0).forEach(function(e){Ie(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var xe=i.forwardRef(function(t,r){var n=i.useContext(ue),e=L.getProps(t,n),m=i.useState(!1),S=k(m,2),s=S[0],f=S[1],p=i.useState(!1),E=k(p,2),d=E[0],j=E[1],J=L.setMetaData({props:e,state:{containerVisible:s}}),b=J.ptm,c=i.useRef(null),l=i.useRef(null),h=i.useRef(null),K=U({type:"keydown",listener:function(o){o.key==="Escape"&&g.get(l.current)===g.getCurrent("modal",n&&n.autoZIndex||C.autoZIndex)&&O(o)}}),T=k(K,2),z=T[0],X=T[1],q=U({type:"click",listener:function(o){o.button===0&&W(o)&&O(o)}}),A=k(q,2),_=A[0],M=A[1],W=function(o){return c&&c.current&&!c.current.contains(o.target)},Y=function(){var o=["left","right","top","bottom"],u=o.find(function(v){return v===e.position});return u?"p-sidebar-".concat(u):""},F=function(){var o=document.activeElement,u=o&&c&&c.current.contains(o);!u&&e.showCloseIcon&&h.current.focus()},G=function(o){e.dismissable&&e.modal&&l.current===o.target&&O(o)},O=function(o){e.onHide(),o.preventDefault()},Q=function(){e.onShow&&e.onShow(),F(),ne()},ee=function(){e.modal&&R.addClass(l.current,"p-component-overlay-leave")},te=function(){g.clear(l.current),f(!1),Z()},ne=function(){e.closeOnEscape&&z(),e.dismissable&&!e.modal&&_(),e.blockScroll&&R.addClass(document.body,"p-overflow-hidden")},Z=function(){X(),M(),e.blockScroll&&R.removeClass(document.body,"p-overflow-hidden")};i.useImperativeHandle(r,function(){return{props:e,getElement:function(){return c.current},gteMask:function(){return l.current},getCloseIcon:function(){return h.current}}}),fe(function(){e.visible&&f(!0)}),N(function(){e.visible&&!s&&f(!0),e.visible!==d&&s&&j(e.visible)}),N(function(){s&&(g.set("modal",l.current,n&&n.autoZIndex||C.autoZIndex,e.baseZIndex||n&&n.zIndex.modal||C.zIndex.modal),j(!0))},[s]),N(function(){d&&(M(),e.dismissable&&!e.modal&&_())},[e.dismissable,e.modal,d]),me(function(){Z(),l.current&&g.clear(l.current)});var re=function(){var o="p-sidebar-close-icon",u=y({type:"button",ref:h,className:"p-sidebar-close p-sidebar-icon p-link",onClick:function(D){return O(D)},"aria-label":x},b("closeButton")),v=y({className:o},b("closeIcon")),P=e.closeIcon||i.createElement(be,v),w=ve.getJSXIcon(P,we({},v),{props:e}),x=e.ariaCloseLabel||ye("close");return e.showCloseIcon?i.createElement("button",u,w,i.createElement(Se,null)):null},oe=function(){return e.icons?Ee.getJSXElement(e.icons,e):null},ae=function(){var o=$("p-sidebar p-component",e.className,{"p-input-filled":n&&n.inputStyle==="filled"||C.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||C.ripple===!1}),u=$("p-sidebar-mask",{"p-component-overlay p-component-overlay-enter":e.modal,"p-sidebar-mask-scrollblocker":e.blockScroll,"p-sidebar-visible":s,"p-sidebar-full":e.fullScreen},Y(),e.maskClassName),v=re(),P=oe(),w={enter:e.fullScreen?150:300,exit:e.fullScreen?150:300},x=y({ref:l,style:e.maskStyle,className:u,onMouseDown:function(le){return G(le)}},b("mask")),B=y({id:e.id,ref:c,className:o,style:e.style,role:"complementary"},L.getOtherProps(e),b("root")),D=y({className:"p-sidebar-header"},b("header")),se=y({className:"p-sidebar-content"},b("content"));return i.createElement("div",x,i.createElement(de,{nodeRef:c,classNames:"p-sidebar",in:d,timeout:w,options:e.transitionOptions,unmountOnExit:!0,onEntered:Q,onExiting:ee,onExited:te},i.createElement("div",B,i.createElement("div",D,P,v),i.createElement("div",se,e.children))))},ie=function(){var o=ae();return i.createElement(pe,{element:o,appendTo:e.appendTo,visible:!0})};return s&&ie()});xe.displayName="Sidebar";export{xe as S};
