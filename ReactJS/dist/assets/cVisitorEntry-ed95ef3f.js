import{a as gi,r as s,u as Di,L as jt,b as bi,p as Ii,cv as Ni,c as Si,cz as xi,cA as Pi,j as e,B as R,A as Li,d as Ei,F as ji,n as V,cB as wi,cC as Ti,cD as vi,I as et,aK as Ci}from"./index-25a41ef1.js";import{F as Fi}from"./fileupload.esm-b904f07b.js";import{D as tt,C as E}from"./column.esm-11a46c7b.js";import{P as Mi}from"./PhotoCapture-c5d70e6b.js";import{V as wt}from"./VisitorManagement-638cb0f9.js";import"./index.esm-9a713e1a.js";import"./index.esm-21a4a4d3.js";const ki=M=>{const{visitorEntryForm:h,VisitorEntryValidationSchema:x,formik:o,onUpload:B,itemTemplate:U,isView:f,imageUrl:C,IsPreBookingList:q,VisitorTypeList:A,onChangeVisitorType:G,isCreate:p,handleSelect:v,autoCompleteRef:I,OnSelectVisitorCode:g,onChangeMatType:D,filteritemType:P,VisitorNameList:L,onChangeVisitor:N,handleIsPreBook:w,VECodeDisable:k,EmployeeList:z,ProofList:ce,onClickIsAppointmentBooking:Ce,ValidFromDisable:ie,ValidToDisable:ae,onChageFromDate:se,onChageToDate:Fe,TominDate:J,CheckboxDisable:me,onClickIsExistingVehicle:Me,HideVehicleDD:ue,HideDriverDD:pe,onUploadDocument:ye,documentUrl:ke,onClickIsExistingDriver:he,OnChangePartyTypes:Ve,PartyTypeList:fe,PartyNameList:Ae,AreaList:le,RouteList:Oe,DriverList:Be,VehicleList:ge,IsDeliveryChallan:Re,IsInvoiceBased:it,IsVehicleTripBased:Tt,IsPartyDisable:Y,IsVehicleDetailsDisable:F,ShowVisitorContranctor:O,IsMaterialDetailsShow:W,InvoiceNumberDisable:De,DcNumberDisable:be,PoNumberDisable:Ie,ContainerNumberDisable:re,StatusList:Ue,OnChangeVehicle:qe,deleteDocuments:Ge,handleHyperlink:We,cameraOff:Ke,setCameraOff:Ne,handleChange:He,handleRouteSelect:Se,PurposeList:Je,handlePoVSelect:xe}=M,Qe={icon:"las la-upload",iconOnly:!0};return e.jsx(ji,{initialValues:h,validationSchema:x,onSubmit:o.handleSubmit,children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"white",children:e.jsx("div",{className:f?"p-disabled":"",children:e.jsx("div",{className:"widget-body",children:e.jsx("div",{className:"normal-table",children:e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-12 md:col-9",children:e.jsxs("div",{className:"grid",children:[e.jsx(V,{type:"radiobox",name:"IsPreBooking",label:"Is Pre Booking ?",options:q,show:!1,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",handleChange:w,formik:o,fldStyle:"col-12 md:col-4"}),e.jsx(V,{type:"text",name:"VisitorEntryCode",label:"Visitor Entry Code ",options:"",show:!1,required:!1,disable:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"select",name:"VisitorTypeId",label:"Visitor Type ",options:A,show:!0,required:!1,disable:f||!p,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:G,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"select",name:"VisitorId",label:"Visitor Name ",options:L,show:O,required:!1,disable:!k||f||!p,optionLabel:"FirstName",optionValue:"VisitorId",handleSelect:N,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"text",name:"PersonName",label:"Visitor Name ",options:"",show:!O,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:100}),e.jsx(V,{type:"Calendar",name:"VisitorEntryDate",label:"Visitor Entry Date",options:"",show:!1,required:!1,disable:!0,optionLabel:"",optionValue:"",handleChange:He,fldStyle:"col-12 md:col-4",formik:o,maxDate:new Date}),e.jsx(V,{type:"select",name:"VisitedEmployeeId",label:"Person to Visit",options:z,show:!0,required:!1,disable:!k||f||!p,optionLabel:"EmployeeName",optionValue:"EmployeeId",handleSelect:v,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"text",name:"MobileNo",label:"Mobile No ",options:"",show:!O,required:!1,disable:p?O:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,keyfilter:"int",maxLength:15,minLength:9}),e.jsx(V,{type:"select",name:"IdProofType",label:"ID Proof Type ",options:ce,show:!O,required:!1,disable:p?O:!0,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:v,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"text",name:"IdProofNo",label:"ID Proof No ",options:"",show:!O,required:!1,disable:p?O:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:"20"}),e.jsx(V,{type:"multi_select",name:"AreaToVisit",label:"Area To Visit ",options:le.filter(Q=>Q.PlantId==+localStorage.PlantId),show:!0,required:!1,disable:f||!p,optionLabel:"AreaName",optionValue:"AreaId",handleSelect:xe,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"select",name:"PartyType",label:"Party Type ",options:fe,show:!Y,required:!1,disable:p?Y:!0,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:Ve,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"select",name:"PartyName",label:"Party Name ",options:Ae,show:!Y,required:!1,disable:p?Y:!0,optionLabel:"RefName",optionValue:"RefId",handleSelect:v,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"checkbox",name:"IsAppointmentBooking",label:"Is Appointment Booking ",options:"",show:!me,required:!1,disable:p?me:!0,optionLabel:"",optionValue:"",handleChange:Ce,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"Calendar",name:"ValidFrom",label:o.values.VisitorTypeId==36?"Valid From":"Appointment Date",options:"",show:!0,required:!1,disable:p?ie:!0,optionLabel:"",optionValue:"",handleChange:se,fldStyle:"col-12 md:col-4",formik:o,minDate:new Date}),e.jsx(V,{type:"Calendar",name:"ValidTo",label:"Valid To",options:"",show:!ae,required:!1,disable:ae,optionLabel:"",optionValue:"",handleChange:Fe,fldStyle:"col-12 md:col-4",formik:o,minDate:J??new Date}),e.jsx(V,{type:"text",name:"DcNumber",label:"Dc Number ",options:"",show:!be,required:!1,disable:p?be:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:"20"}),e.jsx(V,{type:"text",name:"InvoiceNumber",label:"Invoice Number ",options:"",show:!De,required:!1,disable:p?De:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:"20"}),e.jsx(V,{type:"text",name:"PoNumber",label:"Po Number ",options:"",show:!Ie,required:!1,disable:p?Ie:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:"20"}),e.jsx(V,{type:"text",name:"ContainerNumber",label:"Container Number ",options:"",show:!re,required:!1,disable:p?re:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-4",formik:o,maxlength:"20"}),e.jsx(V,{type:"select",name:"Status",label:"Status ",options:Ue,show:!1,required:!1,disable:!0,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:v,fldStyle:"col-12 md:col-4",formik:o}),e.jsx(V,{type:"select",name:"PurposeOfVisit",label:"Purpose Of Visit ",options:Je,show:!0,required:!0,disable:!p,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:v,formik:o,fldStyle:"col-12 md:col-4",filter:!0}),e.jsx(V,{type:"textarea",name:"VisitorRemarks",label:"Visitor Remarks ",options:"",show:!0,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",formik:o,fldStyle:"col-12 md:col-4",maxlength:"500",style:{maxHeight:"100px",overflowY:"auto"}})]})}),e.jsx(Mi,{onUpload:B,ImageUrl:C,isView:f||!p,cameraOff:Ke,setCameraOff:Ne,fldStyle:"col-12 md:col-3 text-center"})]})})})})}),e.jsx("div",{className:"white",hidden:F,children:e.jsx("div",{className:"widget-body",children:e.jsxs("div",{className:"normal-table",children:[e.jsx("div",{className:"page-title",children:e.jsx("div",{className:"grid grid-nogutter",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Vehicle & Driver Details"})})})}),e.jsxs("div",{className:"grid",children:[e.jsx(V,{type:"checkbox",name:"IsExistingVehicle",label:"Is Existing Vehicle ",options:"",show:!0,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleChange:Me,fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"select",name:"VehicleName",label:"Vehicle Name ",options:ge,show:ue,required:!1,disable:f||!p,optionLabel:"VehicleNameAndNo",optionValue:"VehicleName",handleSelect:qe,fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"text",name:"VehicleName",label:"Vehicle Name ",options:"",show:!ue,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,maxlength:"50"}),e.jsx(V,{type:"text",name:"VehicleNo",label:"Vehicle No ",options:"",show:!0,required:!1,disable:p?ue:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,maxlength:"50"}),e.jsxs("div",{className:"col-12 md:col-3",children:[e.jsx("label",{className:"form-label",children:"Document Upload"}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("div",{className:"browse-links",children:e.jsx(R,{label:o.values.VehicleDocumentName,link:!0,onClick:We})}),e.jsx(Fi,{mode:"basic",chooseOptions:Qe,url:"/api/upload",onSelect:ye,chooseLabel:ke,auto:!0,disabled:f||!p}),e.jsx(R,{icon:"las la-times",disabled:f||!p,onClick:Ge})]})]}),e.jsx(V,{type:"checkbox",name:"IsExistingDriver",label:"Is Existing Driver ",options:"",show:!0,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleChange:he,fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"select",name:"DriverId",label:"Driver Name ",options:z.filter(Q=>Q.DesignationId==5),show:pe,required:!1,disable:f||!p,optionLabel:"EmployeeName",optionValue:"EmployeeName",handleSelect:v,fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"text",name:"DriverId",label:"Driver Name ",options:"",show:!pe,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,maxlength:"50"}),e.jsx(V,{type:"select",name:"RouteId",label:"Route ",options:Oe,show:!0,required:!1,disable:f||!p,optionLabel:"RouteName",optionValue:"RouteId",handleSelect:Se,fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"text",name:"NumberOfPassengers",label:"No.Of Passengers ",options:"",show:!0,required:!1,disable:p?F:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,keyfilter:"int",maxlength:"10"}),e.jsx(V,{type:"",name:"",label:"",options:"",show:!0,required:!1,disable:f||!p,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o}),e.jsx(V,{type:"number",name:"PlannedTravellingKm",label:"Planned Travelling Km ",options:"",show:!0,required:!1,disable:p?F:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,maxFractionDigits:2,minFractionDigits:2,mode:"decimal",max:999999999}),e.jsx(V,{type:"number",name:"ActualTravellingKm",label:"Actual Travelling Km ",options:"",show:!0,required:!1,disable:p?F:!0,optionLabel:"",optionValue:"",handleSelect:"",fldStyle:"col-12 md:col-3",formik:o,maxFractionDigits:2,minFractionDigits:2,mode:"decimal",max:999999999})]})]})})})]})})},Ai=M=>{const{visitorEntryBelongingDetailForm:h,formik:x,VisitorEntryBelongingDetailList:o,TableHeader:B,filters:U,isView:f,setVisitorEntryBelongingDetailList:C,toast:q,isCreate:A}=M,G=g=>{const D=o.indexOf(g),P=()=>{var k;if(o.filter(z=>z.DeviceName==""||z.DeviceNo=="").length>0){(k=q.current)==null||k.show({severity:"warn",detail:"Please Enter Device Name And No.",summary:"Warning Message"});return}const w={VisitorEntryBelongingDetailId:0,VisitorEntryId:0,DeviceNo:"",DeviceName:""};C([...o,w])},L=()=>{const N=[...o];N.splice(D,1),N.length==0?C([{VisitorEntryBelongingDetailId:0,VisitorEntryId:0,DeviceNo:"",DeviceName:""}]):C(N)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{label:"",severity:"success",title:"Add",icon:"las la-plus",className:"mr-2 p-1",onClick:P,disabled:f||!A}),e.jsx(R,{label:"",severity:"danger",title:"Delete",icon:"las la-times",className:"mr-2 p-1",onClick:L,disabled:f||!A})]})},p=(g,D,P)=>{const L=[...o];L[P.rowIndex][P.field]=g.target.value,C(L)},v=(g,D)=>e.jsx(et,{className:"w-full",value:g[D.field],onChange:P=>{p(P,g,D)},maxLength:50,disabled:f||!A}),I=(g,D)=>e.jsx(e.Fragment,{children:e.jsx(et,{className:"w-full",value:g[D.field],onChange:P=>{p(P,g,D)},maxLength:50,disabled:f||!A,keyfilter:"int"})});return e.jsx("div",{className:"widget-body",children:e.jsxs("div",{className:"normal-table",children:[e.jsx("div",{className:"page-title",children:e.jsx("div",{className:"grid grid-nogutter",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Belonging Details"})})})}),e.jsx("div",{className:"card",children:e.jsxs(tt,{value:o,showGridlines:!0,paginator:!0,filterDisplay:"menu",globalFilterFields:["VisitorName","DepartMentName","Dob","MobileNo","MailId","IdCardTypeName","IdCardNo","StatusName"],emptyMessage:"No Data found.",editMode:"cell",rows:5,rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Entries",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:{minWidth:"50rem"},children:[e.jsx(E,{field:"Action",header:"Action",style:{width:"15%",textAlign:"center"},body:G}),e.jsx(E,{field:"DeviceName",header:"Property Name",style:{width:"25%"},body:(g,D)=>v(g,D)}),e.jsx(E,{field:"DeviceNo",header:"No Of Count",style:{width:"25%"},body:(g,D)=>I(g,D)})]})})]})})},Oi=M=>{const{VisitorEntryMaterialDetailList:h,setVisitorEntryMaterialDetailList:x,isView:o,toast:B,MaterialList:U,IsMaterialDetailsShow:f,isCreate:C}=M,q=I=>{const g=h.indexOf(I),D=()=>{var w;if(h.filter(k=>k.MaterialId==null||k.Qty=="").length>0){(w=B.current)==null||w.show({severity:"warn",detail:"Please Enter Device Name And No.",summary:"Warning Message"});return}const N={VisitorEntryMaterialDetailId:0,VisitorEntryId:0,MaterialId:null,Uom:null,Qty:""};x([...h,N])},P=()=>{const L=[...h];L.splice(g,1);let N={};N.VisitorEntryMaterialDetailId=0,N.VisitorEntryId=0,N.MaterialId=0,N.Uom=0,N.Qty="",x(N),L.length==0?x([{VisitorEntryMaterialDetailId:0,VisitorEntryId:0,MaterialId:null,Uom:null,Qty:""}]):x(L)};return e.jsxs(e.Fragment,{children:[e.jsx(R,{label:"",severity:"success",title:"Add",icon:"las la-plus",className:"mr-2 p-1",onClick:D,disabled:o||!C}),e.jsx(R,{label:"",severity:"danger",title:"Delete",icon:"las la-times",className:"mr-2 p-1",onClick:P,disabled:o||!C})]})},A=(I,g,D)=>{var N;if(h.find(w=>w.MaterialId==I.target.value)){(N=B.current)==null||N.show({severity:"warn",summary:"Warning Message",detail:"Material Already Exists."});return}const L=[...h];L[D.rowIndex][D.field]=I.target.value,L[D.rowIndex].Uom=U.find(w=>w.MaterialId==I.target.value).Uom,x(L)},G=(I,g,D)=>{const P=[...h];P[D.rowIndex][D.field]=I.target.value,x(P)},p=(I,g)=>e.jsx(Ci,{value:I[g.field],options:U,optionLabel:"MaterialName",optionValue:"MaterialId",className:"w-full",onChange:D=>A(D,I,g),filter:!0,disabled:o||!C}),v=(I,g)=>e.jsx(et,{className:"w-full",keyfilter:"int",value:I[g.field],onChange:D=>{G(D,I,g)},maxLength:10,disabled:o||!C});return e.jsx("div",{className:"widget-body",children:e.jsxs("div",{className:"normal-table",children:[e.jsx("div",{className:"page-title",children:e.jsx("div",{className:"grid grid-nogutter",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Material Details"})})})}),e.jsx("div",{className:"card",children:e.jsxs(tt,{value:h,showGridlines:!0,paginator:!0,filterDisplay:"menu",globalFilterFields:[],emptyMessage:"No Data found.",editMode:"cell",rows:5,rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Entries",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:{minWidth:"50rem"},children:[e.jsx(E,{field:"Action",header:"Action",style:{width:"15%"},body:q}),e.jsx(E,{field:"MaterialId",header:"Material Name",style:{width:"25%"},body:(I,g)=>p(I,g)}),e.jsx(E,{field:"Qty",header:"Qty",style:{width:"25%"},body:(I,g)=>v(I,g)})]})})]})})},Bi=M=>{const{visitorEntryDetailList:h,IsWorkerDetailsShow:x,isView:o,isCreate:B}=M,U=f=>e.jsx("a",{style:{color:"blue"},href:f.DocumentUrl,target:"_blank",children:f.DocumentName});return e.jsx("div",{className:"white",hidden:!x,children:e.jsx("div",{className:o?"p-disabled":"",children:e.jsx("div",{className:"widget-body",children:e.jsxs("div",{className:"normal-table",children:[e.jsx("div",{className:"page-title",children:e.jsx("div",{className:"grid grid-nogutter",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Worker Detail"})})})}),e.jsx("div",{className:"card",children:e.jsxs(tt,{value:h,showGridlines:!0,paginator:!0,filterDisplay:"menu",globalFilterFields:["VisitorName","DepartMentName","Dob","MobileNo","MailId","IdCardTypeName","IdCardNo","StatusName","Work Severity","Expiry Date"],emptyMessage:"No Data found.",rows:5,rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Entries",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",tableStyle:{minWidth:"50rem"},children:[e.jsx(E,{field:"VisitorName",header:"Worker Name"}),e.jsx(E,{field:"DepartMentName",header:"Department Name"}),e.jsx(E,{field:"ShowDate",header:"Date Of Birth"}),e.jsx(E,{field:"MailId",header:"Mail ID"}),e.jsx(E,{field:"MobileNo",header:"Mobile No"}),e.jsx(E,{field:"IdCardTypeName",header:"ID Card Type"}),e.jsx(E,{field:"IdCardNo",header:"ID Card No"}),e.jsx(E,{field:"WorkSeverity",header:"Work Severity"}),e.jsx(E,{field:"ExpirryDate",header:"Expiry Date"}),e.jsx(E,{header:"Document",body:f=>U(f)}),e.jsx(E,{field:"StatusName",header:"Status"})]})})]})})})})},ia=()=>{const M=gi(),h=s.useRef(null),x=Di(),[o,B]=s.useState(!1);s.useState([]);const[U,f]=s.useState([]),[C,q]=s.useState([]),[A,G]=s.useState([]),[p,v]=s.useState([]),[I,g]=s.useState([]),[D,P]=s.useState([]),[L,N]=s.useState([]);s.useState([]),s.useState({}),s.useState([]),s.useState([]),s.useState([]),s.useState([]),s.useState([]);const[w,k]=s.useState([]),[z,ce]=s.useState([]);s.useState([]),s.useState([]);const[Ce,ie]=s.useState(jt.NO_IMG),[ae,se]=s.useState(null),[Fe,J]=s.useState(null),me=s.useRef(null),[Me,ue]=s.useState([]),[pe,ye]=s.useState([]),[ke,he]=s.useState([]),[Ve,fe]=s.useState([]),[Ae,le]=s.useState([]),[Oe,Be]=s.useState([]),[ge,Re]=s.useState([]),[it,Tt]=s.useState(!0),[Y,F]=s.useState(!0),[O,W]=s.useState(!0),[De,be]=s.useState(null),[Ie,re]=s.useState(!1),[Ue,qe]=s.useState(!1),[Ge,We]=s.useState(!1),[Ke,Ne]=s.useState(!1),[He,Se]=s.useState(!1),[Je,xe]=s.useState(!1),[Qe,Q]=s.useState(!1),[vt,Pe]=s.useState(!0),[_e,Le]=s.useState(!1),[at,ze]=s.useState(!1),[Ct,st]=s.useState(!1),[Ft,lt]=s.useState(!0),[Mt,K]=s.useState(!1),[rt,oe]=s.useState([]),[kt,ot]=s.useState([]),[Ee,je]=s.useState([]),[$,X]=s.useState([]),[Z,_]=s.useState([]),[At,nt]=s.useState([]),[Ye,we]=s.useState(""),[Ot,$e]=s.useState(!0),[Bt,dt]=s.useState(!0),[Rt,ct]=s.useState(!0),[Ut,Xe]=s.useState(!0),qt=s.useRef(),{isCreate:j,isView:H,SearchData:Ri,loading:Gt,error:Ui,tranStatus:qi,DtoEmployeeList:Wt,DtoDepartmentList:mt,DtoStatusList:ut,DtoTitleList:pt,DtoIsPreBookingList:Kt,DtoVisitorTypeList:Ht,DtoProofList:yt,DtoVisitorEntryTypeList:Gi,DtoVisitorEntryHeader:i,DtoVisitorEntryDetail:ht,DtoVisitorEntryBelongingDetail:Jt,DtoVisitorEntryMaterialDetail:Qt,DtoVisitorEntryList:Wi,DtoVisitorEntryCodeList:Ki,DtoVisitorEmployeeList:Hi,DtoVisitorNameList:_t,DtoVisitorWorkerList:Ji,DtoPreBookingList:Qi,DtoPartyTypeList:zt,DtoAreaList:Yt,DtoRouteList:$t,DtoPartyNameList:_i,DtoDriverList:Xt,DtoVehicleList:Zt,DtoMaterialList:ei,DtoPurposeList:ti,DtoVisitorEntryPovDetail:Vt}=bi(t=>t.visitorentry);s.useEffect(()=>{Ii()}),s.useEffect(()=>{j==!1?ii():ft(0)},[]);const ft=t=>{const d={VisitorEntryId:t,PlantId:+localStorage.PlantId,CompanyId:+localStorage.CompanyId};var r=x(Ni(d));r.then(a=>{var n;if(a.payload.tranStatus.result==!0){if(P(a.payload.VisitorTypeList),g(a.payload.IsPreBookingList),N(a.payload.ProofList),G(a.payload.StatusList),v(a.payload.TitleList),f(a.payload.EmployeeList),q(a.payload.DepartmentList),ce(a.payload.VisitorNameList),ye(a.payload.PartyTypeList),he(a.payload.AreaList),fe(a.payload.RouteList),Be(a.payload.DriverList),Re(a.payload.VehicleList),nt(a.payload.MaterialList),ot(a.payload.PurposeList),j==!0){Te("VisitorTypeId",{},35);let u={};u.VisitorEntryBelongingDetailId=0,u.VisitorEntryId=0,u.DeviceNo="",u.DeviceName="",X([u]);let c={};c.VisitorEntryMaterialDetailId=0,c.VisitorEntryId=0,c.MaterialId=null,c.Uom=null,c.Qty="",_([c])}}else(n=h.current)==null||n.show({severity:"error",detail:"Error",summary:a.payload.tranStatus.lstErrorItem[0].Message})}).catch(a=>{var n;(n=h.current)==null||n.show({severity:"error",detail:"Error",summary:JSON.stringify(a)})})},ii=()=>{P(Ht),g(Kt),N(yt),G(ut),v(pt),f(Wt),q(mt),ce(_t),ye(zt),he(Yt),fe($t),Be(Xt),Re(Zt),nt(ei),ot(ti);let t=[];for(let r=0;r<ht.length;r++){const a=ht[r];let n={};n.VisitorEntryDetailId=a.VisitorEntryDetailId,n.VisitorEntryId=a.VisitorEntryId,n.VisitorId=a.VisitorId,n.TitleId=a.TitleId,n.FirstName=a.FirstName,n.LastName=a.LastName,n.DepartmentId=a.DepartmentId,n.Dob=new Date(a.Dob),n.MailId=a.MailId,n.MobileNo=a.MobileNo,n.IdCardType=a.IdCardType,n.IdCardNo=a.IdCardNo,n.DocumentName=a.DocumentName,n.DocumentUrl=a.DocumentUrl,n.Status=a.Status,n.VisitorName=pt.find(c=>c.MetaSubId==a.TitleId).MetaSubDescription+"."+n.FirstName+" "+n.LastName,n.StatusName=ut.find(c=>c.MetaSubId==a.Status).MetaSubDescription,n.IdCardTypeName=yt.find(c=>c.MetaSubId==a.IdCardType).MetaSubDescription,a.DepartmentId?n.DepartMentName=mt.find(c=>c.DepartmentId==a.DepartmentId).DepartmentName:n.DepartMentName="";const u=new Date(a.Dob).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});n.ShowDate=u,t.push(n)}oe(t),X(Jt),_(Qt),je(Vt),Te("VisitorTypeId",{},i.VisitorTypeId),i.PartyType&&Nt("PartyType",{},i.PartyType);let d=Vt.map(r=>r.AreaToVisit);gt("AreaToVisit",{},d,1),bt(i.VisitorImageUrl).then(r=>{const a=new File([r],i.VisitorImageName,{type:"image/*",lastModified:1695716506050});se(a),ie(i.VisitorImageUrl)}).catch(r=>{var a;(a=h.current)==null||a.show({severity:"error",detail:"Error",summary:JSON.stringify(r)})}),i.VehicleDocumentName!=""&&(i.VisitorTypeId==64||i.VisitorTypeId==65||i.VisitorTypeId==66)&&bt(i.VehicleDocumentUrl).then(r=>{const a=new File([r],i.VehicleDocumentName,{type:"image/*",lastModified:1695716506050});J(a),we(i.VehicleDocumentUrl)}).catch(r=>{var a;(a=h.current)==null||a.show({severity:"error",detail:"Error",summary:JSON.stringify(r)})})},ai=(t,d,r)=>{l.setFieldValue(t,r)},gt=(t,d,r,a=0)=>{if(l.setFieldValue(t,r),a==0){je([]);let n=[];for(let u=0;u<r.length;u++){const c=r[u];let T={};T.VisitorEntryAtvDetailId=0,T.VisitorEntryId=0,T.AreaToVisit=c,n.push(T)}je(n)}},si=(t,d,r)=>{l.setFieldValue(t,r);let a=Ve.find(n=>n.RouteId==r).RouteDistanceInKm;l.setFieldValue("PlannedTravellingKm",a)},li=t=>{l.setFieldValue(t.target.name,t.value)},ri=(t,d,r)=>{l.setFieldValue(t,r)},Dt={VisitorEntryId:i?i.VisitorEntryId:0,VisitorEntryCode:i?i.VisitorEntryCode:"",VisitorEntryDate:i?new Date(i.VisitorEntryDate):new Date,CompanyId:i?i.CompanyId:localStorage.CompanyId,PlantId:i?i.PlantId:localStorage.PlantId,GateId:i?i.GateId:localStorage.GateId,VisitorTypeId:i?i.VisitorTypeId:35,VisitorId:i?i.VisitorId:null,PersonName:i?i.PersonName:"",MobileNo:i?i.MobileNo:"",IdProofType:i?i.IdProofType:null,IdProofNo:i?i.IdProofNo:"",VisitedEmployeeId:i?i.VisitedEmployeeId:null,ValidFrom:i?new Date(i.ValidFrom):new Date,ValidTo:i?new Date(i.ValidTo):null,AccessType:i?i.AccessType:null,IsExtended:i?i.IsExtended:!1,IsAppointmentBooking:i?i.IsAppointmentBooking:!1,IsPreBooking:i?i.IsPreBooking:16,VisitorRemarks:i?i.VisitorRemarks:"",VisitorImageName:i?i.VisitorImageName:"",VisitorImageUrl:i?i.VisitorImageUrl:"",PurposeOfVisit:i?i.PurposeOfVisit:null,PartyType:i?i.PartyType:null,PartyName:i?i.PartyName:null,InvoiceNumber:i?i.InvoiceNumber:"",DcNumber:i?i.DcNumber:"",PoNumber:i?i.PoNumber:"",ContainerNumber:i?i.ContainerNumber:"",IsExistingVehicle:i?i.IsExistingVehicle:null,VehicleName:i?i.VehicleName:"",VehicleNo:i?i.VehicleNo:"",IsExistingDriver:i?i.IsExistingDriver:null,DriverId:i?i.DriverId:"",VehicleDocumentName:i?i.VehicleDocumentName:"",VehicleDocumentUrl:i?i.VehicleDocumentUrl:"",RouteId:i?i.RouteId:null,NumberOfPassengers:i?i.NumberOfPassengers:"",PlannedTravellingKm:i?i.PlannedTravellingKm:"",ActualTravellingKm:i?i.ActualTravellingKm:"",Status:i?i.Status:74,CreatedBy:i?i.CreatedBy:+localStorage.UserId,CreatedOn:i?new Date(i.CreatedOn):new Date,ModifiedBy:i?+localStorage.UserId:null,ModifiedOn:i?new Date:null},b=t=>{var d;K(!1),(d=h.current)==null||d.show({severity:"warn",summary:"Warning Message",detail:t})},l=Si({initialValues:Dt,validationSchema:wt,onSubmit:(t,{resetForm:d})=>{var Lt;K(!0);const r=new FormData;if(t.PersonName==""&&(t.VisitorTypeId==35||t.VisitorTypeId==36))return b("Please Select Visitor Name");if(t.PersonName==""&&t.VisitorTypeId!=35&&t.VisitorTypeId!=36)return b("Please Enter Visitor Name");if(!t.VisitedEmployeeId)return b("Please Select Person To Visit");if(t.MobileNo=="")return b("Please Enter Mobile No");if(t.MobileNo.length<9||t.MobileNo.length>15)return b("Invalid mobile number. It should be 9 to 15 digits");if(!t.PurposeOfVisit)return b("Please Select Purpose of Visit");if(!t.ValidFrom&&t.VisitorTypeId==36)return b("Please Select Valid From");if(!t.ValidFrom&&t.VisitorTypeId!=36)return b("Please Select Appointment Date");if(!t.ValidTo)return b("Please Select Valid To");if(t.ValidFrom>t.ValidTo)return b("From Date Should Not be Greater Than To Date");if(t.VisitorTypeId==64||t.VisitorTypeId==65){if(!t.PartyType)return b("Please Select Party Type");if(!t.PartyName)return b("Please Select Party Name");if(!Z||!Z.length||Z.length==0)return b("Please Add Material Details");if(Z.filter(m=>m.MaterialId==null||m.Qty=="").length>0)return b("Please Add All the Details In Material Details.")}if((t.VisitorTypeId==35||t.VisitorTypeId==36)&&$.length>0){let S=$.filter(m=>m.DeviceName==""&&m.DeviceNo=="");if(!($.length==1&&S.length>0)){if($.filter(y=>y.DeviceName==""||y.DeviceNo=="").length>0)return b("Please Add All the Details In Belonging Details.")}}if(t.VisitorTypeId==64&&t.DcNumber=="")return b("Please Enter DC Number");if(t.VisitorTypeId==65&&t.InvoiceNumber=="")return b("Please Enter Invoice Number");if(t.VisitorTypeId!=35&&t.VisitorTypeId!=36){if(t.VehicleName==""&&t.IsExistingVehicle)return b("Please Select Vehicle Name");if(t.VehicleName==""&&!t.IsExistingVehicle)return b("Please Enter Vehicle Name");if(t.VehicleNo=="")return b("Please Enter Vehicle No");if(!t.RouteId)return b("Select Route");if(t.PlannedTravellingKm=="")return b("Please Enter Planned Travelling Km");if(t.ActualTravellingKm==null)return b("Please Enter Actual Travelling Km")}if(!Ee||!Ee.length||Ee.length==0)return b("Please Select Area To Visit");let a=rt,n=$,u=Z;t.VisitorTypeId==35&&(u=[]),t.VisitorTypeId==36&&(u=[]),t.VisitorTypeId==64&&(a=[],n=[]),t.VisitorTypeId==65&&(a=[],n=[]),t.VisitorTypeId==66&&(u=[],a=[]);let c=[],T=[],ee=[];if(a.length>0)for(let S=0;S<a.length;S++){const m=a[S];let y={};y.VisitorEntryDetailId=m.VisitorEntryDetailId??0,y.VisitorEntryId=m.VisitorEntryId??0,y.TitleId=m.TitleId,y.FirstName=m.FirstName,y.LastName=m.LastName,y.DepartmentId=m.DepartmentId,y.Dob=m.Dob,y.MailId=m.MailId,y.MobileNo=m.MobileNo,y.IdCardType=m.IdCardType,y.IdCardNo=m.IdCardNo,y.DocumentName=m.DocumentName,y.DocumentUrl=m.DocumentUrl,y.Status=m.Status,c.push(y)}if(n.length>0)for(let S=0;S<n.length;S++){const m=n[S];let y={};y.VisitorEntryBelongingDetailId=m.VisitorEntryBelongingDetailId??0,y.VisitorEntryId=m.VisitorEntryId??0,y.DeviceNo=m.DeviceNo,y.DeviceName=m.DeviceName,T.push(y)}if(u.length>0)for(let S=0;S<u.length;S++){const m=u[S];let y={};y.VisitorEntryMaterialDetailId=m.VisitorEntryMaterialDetailId??0,y.VisitorEntryId=m.VisitorEntryId??0,y.MaterialId=m.MaterialId,y.Uom=m.Uom,y.Qty=m.Qty,ee.push(y)}if(!ae){K(!1),(Lt=h.current)==null||Lt.show({severity:"warn",detail:"Please Capture Image",summary:"Warning Message"});return}t.ValidFrom=ne(new Date(t.ValidFrom)),t.ValidTo=ne(new Date(t.ValidTo)),t.VisitorEntryDate=ne(new Date(t.VisitorEntryDate)),t.CreatedOn=ne(new Date(t.CreatedOn)),j||(t.ModifiedOn=ne(new Date(t.ModifiedOn)));let te=JSON.stringify({VisitorEntry:t,VisitorEntryDetail:c??[],VisitorEntryBelongingDetail:T??[],VisitorEntryMaterialDetail:ee??[],VisitorEntryAtvDetail:Ee??[]});if(r.append("input",te),r.append("webfile",ae),r.append("webfile1",Fe),r.append("webfiles",[]),j==!1){var de=x(wi(r));de.then(S=>{var m,y;S.payload.tranStatus.result==!0?((m=h.current)==null||m.show({severity:"success",summary:"Success Message",detail:S.payload.tranStatus.lstErrorItem[0].Message}),setTimeout(()=>{M.push("/home/vVisitorEntry")},800)):((y=h.current)==null||y.show({severity:"error",summary:"Error Message",detail:S.payload.tranStatus.lstErrorItem[0].Message}),K(!1))}).catch(S=>{var m;K(!1),(m=h.current)==null||m.show({severity:"error",summary:"Error",detail:JSON.stringify(S)})})}else{var de=x(Ti(r));de.then(m=>{var y,Et;m.payload.tranStatus.result==!0?(K(!1),(y=h.current)==null||y.show({severity:"success",summary:"Success Message",detail:m.payload.tranStatus.lstErrorItem[0].Message}),It()):(K(!1),(Et=h.current)==null||Et.show({severity:"error",summary:"Error",detail:m.payload.tranStatus.lstErrorItem[0].Message}))}).catch(m=>{var y;K(!1),(y=h.current)==null||y.show({severity:"error",summary:"Error",detail:JSON.stringify(m)})})}}}),ne=t=>t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});async function bt(t){const d=await fetch(t);if(!d.ok)throw new Error(`Failed to fetch image: ${d.statusText}`);return await d.blob()}const It=()=>{delete l.values.AreaToVisit,l.resetForm();let t={};t.VisitorEntryBelongingDetailId=0,t.VisitorEntryId=0,t.DeviceNo="",t.DeviceName="",X([t]);let d={};d.VisitorEntryMaterialDetailId=0,d.VisitorEntryId=0,d.MaterialId=null,d.Uom=null,d.Qty="",_([d]),_([]),je([]),se(null),ie(jt.NO_IMG),J(null),we(""),le([]),ft(0)},Te=(t,d,r)=>{k([]),j&&oe([]),l.setFieldValue(t,r);let a={VisitorTypeId:r,CompanyId:+localStorage.CompanyId};var n=x(xi(a));n.then(u=>{var c;if(u.payload.tranStatus.result==!0){k(u.payload.VisitorNameList),j&&(l.setFieldValue("VisitorId",null),l.setFieldValue("PersonName",""),l.setFieldValue("MobileNo",""),l.setFieldValue("IdProofType",null),l.setFieldValue("IdProofNo",""),l.setFieldValue("InvoiceNumber",""),l.setFieldValue("DcNumber",""),l.setFieldValue("PoNumber",""),l.setFieldValue("ContainerNumber",""));let T={target:{name:"IsAppointmentBooking"},checked:j?r==36:i.IsAppointmentBooking,value:r};St(T)}else(c=h.current)==null||c.show({severity:"error",detail:"Error",summary:u.payload.tranStatus.lstErrorItem[0].Message})}).catch(u=>{var c;(c=h.current)==null||c.show({severity:"error",detail:"Error",summary:JSON.stringify(u)})})},oi=(t,d,r)=>{l.setFieldValue(t,r);let a=w.find(u=>u.VisitorId==r);if(l.setFieldValue("PersonName",a.FirstName),l.setFieldValue("MobileNo",a.MobileNo),l.setFieldValue("IdProofType",a.IdCardType),l.setFieldValue("IdProofNo",a.IdCardNo),Le(!1),oe([]),l.values.VisitorTypeId==36||l.values.VisitorTypeId==35){let u={VisitorTypeId:l.values.VisitorTypeId,VisitorId:r,Detail:0};var n=x(vi(u));n.then(c=>{var T;if(c.payload.tranStatus.result==!0){let ee=c.payload.VisitorWorkerList;for(let ve=0;ve<ee.length;ve++){const te=ee[ve];te.Dob=new Date(te.Dob);const de=te.Dob.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});te.ShowDate=de}oe(ee)}else(T=h.current)==null||T.show({severity:"error",detail:"Error",summary:c.payload.tranStatus.lstErrorItem[0].Message})}).catch(c=>{var T;(T=h.current)==null||T.show({severity:"error",detail:"Error",summary:JSON.stringify(c)})})}},Nt=(t,d,r)=>{l.setFieldValue(t,r);var n=x(Pi({PartyType:r}));n.then(u=>{var c;u.payload.tranStatus.result==!0?le(u.payload.PartyNameList):(c=h.current)==null||c.show({severity:"error",detail:"Error",summary:u.payload.tranStatus.lstErrorItem[0].Message})}).catch(u=>{var c;(c=h.current)==null||c.show({severity:"error",detail:"Error",summary:JSON.stringify(u)})})},St=t=>{l.setFieldValue(t.target.name,t.checked);let d=t.value?t.value:l.values.VisitorTypeId,r={target:{name:"ValidFrom"},value:i?new Date(i.ValidFrom):new Date,VisitorTypeId:d},a={target:{name:"IsExistingVehicle"},checked:i?i.IsExistingVehicle:!0};xt(a);let n={target:{name:"IsExistingDriver"},checked:i?i.IsExistingDriver:!0};if(Pt(n),Q(!0),Ne(!1),Se(!1),xe(!1),Pe(!0),lt(!0),Le(!1),j){l.setFieldValue("PartyType",null),l.setFieldValue("PartyName",null),l.setFieldValue("RouteId",null),l.setFieldValue("NumberOfPassengers",""),l.setFieldValue("PlannedTravellingKm",""),l.setFieldValue("ActualTravellingKm",""),l.setFieldValue("ValidFrom",new Date),l.setFieldValue("ValidTo",new Date),le([]),_([]),X([]);let u={};u.VisitorEntryBelongingDetailId=0,u.VisitorEntryId=0,u.DeviceNo="",u.DeviceName="",X([u]);let c={};c.VisitorEntryMaterialDetailId=0,c.VisitorEntryId=0,c.MaterialId=null,c.Uom=null,c.Qty="",_([c])}ze(!1),st(!1),$e(!0),dt(!0),ct(!0),Xe(!0),re(!0),d==35?(ze(!0),re(!1),t.checked?(F(!1),W(!0)):(F(!0),W(!0)),Ze(r)):d==36?(ze(!0),st(!0),t.checked?(F(!1),W(!1),Ze(r)):(F(!0),W(!0))):(lt(!1),d==64?(Q(!1),Ne(!0),Pe(!1),Le(!0),F(!0),W(!0),$e(!1),dt(!1),Xe(!1)):d==65?(Q(!1),Se(!0),Pe(!1),Le(!0),F(!0),W(!0),$e(!1),ct(!1),Xe(!1)):d==66&&(xe(!0),Pe(!1),F(!0),W(!0)))},ni=t=>{l.setFieldValue(t.target.name,t.value),t.value==15?M.push("/home/vVisitorEntry"):(l.setFieldValue("VisitorEntryCode",""),l.setFieldValue("VisitorEntryDate",new Date),Te("VisitorTypeId",{},35))},Ze=t=>{l.setFieldValue(t.target.name,t.value);let d=t.VisitorTypeId?t.VisitorTypeId:l.values.VisitorTypeId;d==35?l.setFieldValue("ValidTo",t.value):d==36&&(!j&&!H&&l.setFieldValue("ValidTo",null),be(t.value))},di=t=>{l.setFieldValue(t.target.name,t.value)},xt=t=>{l.setFieldValue(t.target.name,t.checked),j&&(l.setFieldValue("VehicleName",""),l.setFieldValue("VehicleNo","")),qe(t.checked)},ci=(t,d,r)=>{l.setFieldValue(t,r),l.setFieldValue("VehicleNo",ge.find(a=>a.VehicleName==r).VehicleNo)},Pt=t=>{l.setFieldValue(t.target.name,t.checked),j&&l.setFieldValue("DriverId",""),We(t.checked)},mi=(t,d,r)=>{l.setFieldValue(t,r)},ui=t=>{se(t),l.setFieldValue("VisitorImageName",t.name),l.setFieldValue("VisitorImageUrl",t.name);const d=URL.createObjectURL(t);ie(d)},pi=(t,d)=>{const r=t.name.slice((t.name.lastIndexOf(".")-1>>>0)+2).toLowerCase(),a=t.type.toLowerCase();return d.includes(r)||d.includes(a)},yi=t=>{var r,a,n;const d=["jpeg","jpg","png"];if(t.files&&!pi(t.files[0],d)){(r=h.current)==null||r.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG)"}),(a=qt.current)==null||a.clear();return}if(t.files.length>0){J(t.files[0]),l.setFieldValue("VehicleDocumentName",t.files[0].name),l.setFieldValue("VehicleDocumentUrl",t.files[0].name);const u=URL.createObjectURL(t.files[0]);we(u)}else{(n=h.current)==null||n.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG)"});return}},hi=()=>{we(""),J(null),l.setFieldValue("VehicleDocumentName",""),l.setFieldValue("VehicleDocumentUrl","")},Vi=()=>{Ye!=""&&window.open(Ye,"_blank")},fi=()=>e.jsxs("div",{className:"flex align-items-center flex-column",children:[e.jsx("i",{className:"pi pi-image mt-3 p-5",style:{fontSize:"5em",borderRadius:"50%",backgroundColor:"var(--surface-b)",color:"var(--surface-d)"}}),e.jsx("span",{style:{fontSize:"1.2em",color:"var(--text-color-secondary)"},className:"my-5",children:"Drag and Drop Image Here"})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"inner-page-container",children:[e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"grid grid-nogutter",children:[e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Visitor Entry"})}),e.jsx("div",{className:"md:col-6 text-right",children:e.jsxs("div",{className:"action-btn",children:[e.jsxs(e.Fragment,{children:[e.jsx(R,{label:"",title:"Save",icon:"pi pi-save",className:"text-center",type:"submit",disabled:H||Mt,onClick:l.handleSubmit}),e.jsx(R,{label:"",severity:"danger",icon:"pi pi-trash",title:"Clear",className:"text-center",disabled:!!(H||j==!1),onClick:()=>It()})]}),e.jsx(R,{label:"",icon:"pi pi-search",title:"Add",className:"p-button p-button-success text-center",onClick:()=>{M.push("/home/vVisitorEntry"),B(!0)}})]})})]})}),Gt?e.jsx(Li,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form-container scroll-y",children:[e.jsx(ki,{visitorEntryForm:Dt,VisitorEntryValidationSchema:wt,formik:l,onUpload:ui,itemTemplate:fi,isView:H,imageUrl:Ce,IsPreBookingList:I,VisitorTypeList:D,onChangeVisitorType:Te,isCreate:j,handleSelect:ai,autoCompleteRef:me,OnSelectVisitorCode:ri,onChangeMatType:mi,filteritemType:Me,VisitorNameList:w,handleIsPreBook:ni,VECodeDisable:it,EmployeeList:U,onChangeVisitor:oi,ProofList:L,onClickIsAppointmentBooking:St,ValidFromDisable:Y,ValidToDisable:O,onChageFromDate:Ze,TominDate:De,CheckboxDisable:Ie,onClickIsExistingVehicle:xt,HideVehicleDD:Ue,HideDriverDD:Ge,onUploadDocument:yi,documentUrl:Ye,onClickIsExistingDriver:Pt,OnChangePartyTypes:Nt,PartyTypeList:pe,PartyNameList:Ae,AreaList:ke,RouteList:Ve,DriverList:Oe,VehicleList:ge,IsDeliveryChallan:Ke,IsInvoiceBased:He,IsVehicleTripBased:Je,IsPartyDisable:Qe,IsVehicleDetailsDisable:vt,ShowVisitorContranctor:Ft,IsMaterialDetailsShow:_e,InvoiceNumberDisable:Ot,DcNumberDisable:Bt,PoNumberDisable:Rt,ContainerNumberDisable:Ut,StatusList:A,OnChangeVehicle:ci,onChageToDate:di,deleteDocuments:hi,handleHyperlink:Vi,cameraOff:o,setCameraOff:B,handleChange:li,handleRouteSelect:si,PurposeList:kt,handlePoVSelect:gt}),e.jsx(Bi,{visitorEntryDetailList:rt,setvisitorEntryDetailList:oe,IsWorkerDetailsShow:Ct,isCreate:j}),e.jsxs("div",{className:"col-12 flex flex-row gap-3 md:col-12    ",children:[e.jsx("div",{className:"white col-6 ",hidden:!at,children:e.jsx("div",{className:H?"p-disabled":"",children:e.jsx(Ai,{VisitorEntryBelongingDetailList:$,setVisitorEntryBelongingDetailList:X,isView:H,isCreate:j,toast:h,IsBelongingDetailsShow:at})})}),e.jsx("div",{className:"white col-6",hidden:!_e,children:e.jsx("div",{className:H?"p-disabled":"",children:e.jsx(Oi,{VisitorEntryMaterialDetailList:Z,setVisitorEntryMaterialDetailList:_,isView:H,isCreate:j,toast:h,MaterialList:At,IsMaterialDetailsShow:_e})})})]})]})})]})}),e.jsx(Ei,{toast:h})]})};export{ia as default};
