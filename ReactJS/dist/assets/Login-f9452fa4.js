import{u as g,a as x,r as p,b as j,c as f,j as e,F as N,I as v,P as S,B as y,A as b,d as w,l as A}from"./index-25a41ef1.js";import{A as c}from"./Master-b11b8a2f.js";import{D as P}from"./divider.esm-784108ce.js";import"./index.esm-21a4a4d3.js";const k="/assets/app-logo-big-87afdfdb.png",U="/assets/login-bg-e1a318cd.png",M=()=>{const d=g(),i=x(),n=p.useRef(null),{user:C,loading:m}=j(l=>l.auth),h=e.jsx("div",{className:"font-bold mb-3",children:"Pick a password"}),u=e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx("p",{className:"mt-2",children:"Suggestions"}),e.jsxs("ul",{className:"pl-2 ml-2 mt-0 line-height-3",children:[e.jsx("li",{children:"Minimum 8 characters"}),e.jsx("li",{children:"At least one lowercase"}),e.jsx("li",{children:"At least one uppercase"}),e.jsx("li",{children:"At least one numeric"}),e.jsx("li",{children:"At least one special character"})]})]}),s=f({initialValues:{UserName:"",PassWord:""},onSubmit:(l,D)=>{d(A(l)).then(a=>{var t,o;a&&a!=null&&(a.payload.tranStatus.result==!1?(t=n.current)==null||t.show({severity:"warn",summary:"Login Error",detail:a.payload.tranStatus.lstErrorItem[0].Message}):a.payload.tranStatus.result==!0&&((o=n.current)==null||o.show({severity:"success",summary:"Login Success",detail:a.payload.tranStatus.lstErrorItem[0].Message}),localStorage.getItem("data_AuthToken")&&localStorage.data_AuthToken.length>1&&(localStorage.DefaultRoleId=="4",i.push("/home/cVisitorManagement"))))}).catch(a=>{var t;(t=n.current)==null||t.show({severity:"warn",summary:JSON.stringify(a),detail:""})})},validationSchema:c}),r=l=>{l.keyCode==13&&s.handleSubmit()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"flex align-items-center justify-content-center",children:[e.jsx("div",{className:"col-4 h-full flex align-items-center justify-content-center login-left",children:e.jsxs("div",{className:"login-container",children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:k,alt:""})}),e.jsx(N,{initialValues:s.initialValues,validationSchema:c,onSubmit:s.handleSubmit,children:e.jsxs("div",{className:"grid",children:[e.jsxs("div",{className:"col-12",children:[e.jsxs("label",{className:"form-label",children:["Username ",e.jsx("span",{className:"hlt-txt",children:"*"})]}),e.jsx(v,{id:"UserName",value:s.values.UserName,name:"UserName",className:"w-full",onChange:s.handleChange,onKeyDown:r}),e.jsx("small",{className:"p-error",children:s.touched.UserName&&s.errors.UserName})]}),e.jsxs("div",{className:"col-12",children:[e.jsxs("label",{className:"form-label",children:["Password ",e.jsx("span",{className:"hlt-txt",children:"*"})]}),e.jsx(S,{id:"PassWord",name:"PassWord",value:s.values.PassWord,className:"w-full",onChange:s.handleChange,onKeyDown:r,feedback:!1,header:h,footer:u}),e.jsx("small",{className:"p-error",children:s.touched.PassWord&&s.errors.PassWord})]}),e.jsx("div",{className:"col-12 text-center",children:e.jsx(y,{label:"Login",icon:"pi pi-sign-in",className:"text-center",type:"submit",onClick:()=>s.handleSubmit()})})]})})]})}),e.jsx("div",{className:"col-8 h-full flex align-items-center justify-content-center login-right",children:e.jsx("img",{src:U,alt:"",className:"w-full"})})]})}),m?e.jsx(b,{}):null,e.jsx(w,{toast:n})]})};export{M as default};
