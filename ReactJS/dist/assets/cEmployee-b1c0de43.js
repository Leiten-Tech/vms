import{a as Me,u as Re,r as u,b as ke,p as Ve,J as Pe,L as se,c as ye,j as e,B as F,A as oe,d as Oe,F as fe,n,M as Ge,N as Te}from"./index-25a41ef1.js";import{E as be,b as qe}from"./Master-b11b8a2f.js";import{F as xe}from"./fileupload.esm-b904f07b.js";import{D as Je,C as q}from"./column.esm-11a46c7b.js";import"./index.esm-21a4a4d3.js";import"./index.esm-9a713e1a.js";const We=(b,D,l,V)=>{const w=()=>{l([]),l(D.filter(J=>J!=b))};return e.jsx(F,{label:"",severity:"danger",title:"Delete",icon:"las la-trash",className:"mr-2 p-1",disabled:!!V,onClick:()=>w()})},Ye=b=>e.jsx("a",{style:{color:"blue"},href:b.AttachmentUrl,target:"_blank",children:b.AttachmentName}),De=b=>{const{isCreate:D,isView:l,createEditData:V,loading:w,error:J,formik:r,handleSelect:f,EmployeeStatus:U,Employee:g,EmployeeList:M,StatusList:N,RoleList:v,DepartmentList:j,GenderList:I,MaritalStatusList:P,EmployeeTypeList:S,BloodGroupList:O,ReportingPersonList:W,EmployeeDocumentDetailList:h,HdrTable:Y,maxDateDob:L,date18YearsAgo:B,date18YearsAfter:G,onChangeDob:H,handleChangeDob:E,onUpload:R,itemTemplate:Z,imageUrl:k,agecalc:_,onSubmit:$,handleCloseImage:a,handleChangeDate:K,imageUploadRef:Q,handleDobChange:re}=b,ee={icon:"las la-camera-retro",iconOnly:!0};return e.jsx(fe,{initialValues:De,validationSchema:be,onSubmit:$,children:e.jsx("form",{children:w?e.jsx(oe,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"white",children:[e.jsx("div",{className:"widget-hdr",children:e.jsx("div",{className:"sub-title",children:e.jsx("div",{className:"grid",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h2",{children:"Personal Information"})})})})}),e.jsx("div",{className:"widget-body",children:e.jsx("div",{className:"normal-table",children:e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-12 md:col-3",children:e.jsxs("div",{className:"img-preview-container m-auto",children:[e.jsx(xe,{mode:"basic",name:"demo[]",url:"#",chooseOptions:ee,className:"custom-upload inline-block",accept:"image/jpeg, image/png, image/jpg",auto:!0,chooseLabel:"Upload Photo",uploadHandler:R,disabled:!!l,customUpload:!0,ref:Q}),e.jsx("div",{className:"img-preview-hidden",children:e.jsx("img",{src:k,alt:"logo",className:"w-full"})}),e.jsx("a",{className:`${l?"p-disabled":null} img-preview-close`,onClick:a,children:e.jsx("i",{className:"las la-times-circle"})})]})}),e.jsx("div",{className:"col-12 md:col-9",children:e.jsxs("div",{className:"grid",children:[e.jsx(n,{type:"text",name:"FirstName",label:"First Name",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"text",name:"LastName",label:"Last Name",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"select",name:"Gender",label:"Gender",options:I,show:!0,required:!0,disable:!!l,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"Calendar",name:"Dob",label:"Date of Birth",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:f,handleChange:x=>{_(x),r.handleChange(x),E(x)},formik:r,maxDate:B,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"text",name:"Age",label:"Age",options:"",show:!0,required:!0,disable:!0,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"select",name:"MaritalStatus",label:"Marital Status",options:P,show:!0,required:!0,disable:!!l,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-4"})]})}),e.jsx("div",{className:"col-12 md:col-9",children:e.jsxs("div",{className:"grid",children:[e.jsx(n,{type:"select",name:"BloodGroup",label:"Blood Group",options:O,show:!0,required:!0,disable:!!l,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"text",name:"Email",label:"E-Mail ID",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4"}),e.jsx(n,{type:"text",name:"PrimaryMobileNo",label:"Mobile Number",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4",maxlength:15,minLength:9,keyfilter:"int"}),e.jsx(n,{type:"text",name:"SecondaryMobileNo",label:"Secondary Mobile Number",options:"",show:!0,required:!1,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-4",keyfilter:"int"}),e.jsx(n,{type:"select",name:"Status",label:"Status",options:N,show:!0,required:!0,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-4",disable:!!l||D==null||D==!0})]})}),e.jsx(n,{type:"textarea",name:"Address",label:"Address",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-3",maxlength:"500",style:{maxHeight:"100px",overflowY:"auto"}})]})})})]}),e.jsxs("div",{className:"white",children:[e.jsx("div",{className:"widget-hdr",children:e.jsx("div",{className:"sub-title",children:e.jsx("div",{className:"grid",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h2",{children:"Company Information"})})})})}),e.jsx("div",{className:"widget-body",children:e.jsx("div",{className:"normal-table",children:e.jsxs("div",{className:"grid",children:[e.jsx(n,{type:"text",name:"EmployeeCode",label:"Employee Code",options:"",show:!0,required:!0,disable:!0,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"select",name:"EmpTypeId",label:"Employee Type",options:S,show:!0,required:!0,disable:!!l,optionLabel:"MetaSubDescription",optionValue:"MetaSubId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"text",name:"IdcardNo",label:"Employee ID Card No",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:r,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"Calendar",name:"DateOfJoining",label:"Date of Joining",options:"",show:!0,required:!0,optionLabel:"",optionValue:"",handleSelect:"",handleChange:x=>{r.handleChange(x)},formik:r,minDate:new Date(G),disable:!!l,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"Calendar",name:"ReleavingDate",label:"Releaving Date",options:"",show:!0,required:!1,disable:!!(l||D),optionLabel:"",optionValue:"",handleSelect:"",handleChange:K,formik:r,fldStyle:"col-12 md:col-3",minDate:new Date(r.values.DateOfJoining)}),e.jsx(n,{type:"select",name:"ReportingPerson",label:"Reporting Person",options:W,show:!0,required:!0,disable:!!l,optionLabel:x=>`${x.FirstName} ${x.LastName} (${x.EmployeeCode})`,optionValue:"EmployeeId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"select",name:"DeptId",label:"Department",options:j,show:!0,required:!0,disable:!!l,optionLabel:"DepartmentName",optionValue:"DepartmentId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"select",name:"DesignationId",label:"Designation",options:v,show:!0,required:!0,disable:!!l,optionLabel:"RoleName",optionValue:"RoleId",handleSelect:f,formik:r,fldStyle:"col-12 md:col-3"})]})})})]})]})})})},Be=b=>{const{isCreate:D,isView:l,createEditData:V,loading:w,error:J,StatusList:r,HdrTable:f,EmployeeList:U,formik:g,OnClear:M,employeeDetailList:N,filters:v,TableHeader:j,AttachmentUrl:I,onUploadDocument:P,setEmployeeDetailList:S,ClearFileUpload:O,documentUploadRef:W}=b,h={icon:"las la-upload",iconOnly:!0},Y=L=>{window.open(L,"_blank")};return e.jsx(fe,{initialValues:g.employeeDetailForm,validationSchema:g.EmployeeDetailValidationSchema,onSubmit:g.handleSubmit,children:e.jsx("div",{className:"white",children:e.jsxs("div",{className:"widget-body",children:[e.jsxs("div",{className:"normal-table",children:[e.jsx("div",{className:"page-title",children:e.jsx("div",{className:"grid grid-nogutter",children:e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Employee Document Details"})})})}),e.jsxs("div",{className:"grid",children:[e.jsx(n,{type:"text",name:"DocumentName",label:"Document Name",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:g,fldStyle:"col-12 md:col-3"}),e.jsx(n,{type:"text",name:"DocumentNo",label:"Document No",options:"",show:!0,required:!0,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:g,fldStyle:"col-12 md:col-3"}),e.jsxs("div",{className:"col-12 md:col-3",children:[e.jsxs("label",{className:"form-label",children:["Document Upload",e.jsx("span",{className:"hlt-txt",children:"*"})]}),e.jsxs("div",{className:"p-inputgroup",children:[e.jsx("div",{className:"browse-links",children:e.jsx(F,{label:g.values.AttachmentName,link:!0,onClick:()=>Y(I)})}),e.jsx(xe,{ref:W,mode:"basic",chooseOptions:h,uploadHandler:P,chooseLabel:I,customUpload:!0,auto:!0,accept:"image/*,.pdf,.xlsx,.xls,.xlsm,.docx,.txt",disabled:!!l}),e.jsx(F,{icon:"las la-times",disabled:!!l,onClick:O})]})]}),e.jsx(n,{type:"textarea",name:"Remarks",label:"Remarks",options:"",show:!0,required:!1,disable:!!l,optionLabel:"",optionValue:"",handleSelect:"",formik:g,fldStyle:"col-12 md:col-3",maxlength:"500",style:{maxHeight:"100px",overflowY:"auto"}})]}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx(F,{label:"Add",severity:"success",icon:"las la-plus",title:"Add",className:"text-center",onClick:g.handleSubmit,type:"submit",disabled:!!l}),e.jsx(F,{label:"Clear",severity:"danger",icon:"las la-trash",title:"Clear",className:"text-center",onClick:()=>M(),disabled:!!l})]})]}),e.jsx("div",{className:"card",children:e.jsxs(Je,{value:N,showGridlines:!0,paginator:!0,filters:v,filterDisplay:"menu",globalFilterFields:["DocumentName","DocumentNo","AttachmentName","AttachmentUrl","Remarks"],header:j,emptyMessage:"No Data Found.",rows:5,tableStyle:{minWidth:"50rem"},rowsPerPageOptions:[5,10,25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} Entries",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",children:[e.jsx(q,{header:"Action",style:{textAlign:"center",minWidth:"5em",maxWidth:"5em",overflowWrap:"break-word"},body:L=>We(L,N,S,l),headerClassName:"text-center"}),e.jsx(q,{field:"DocumentName",style:{minWidth:"20em",maxWidth:"20em",overflowWrap:"break-word"},header:"Document Name",headerClassName:"text-center"}),e.jsx(q,{field:"DocumentNo",style:{minWidth:"20em",maxWidth:"20em",overflowWrap:"break-word"},header:"Document Number",headerClassName:"text-center"}),e.jsx(q,{header:"Attachments",style:{minWidth:"20em",maxWidth:"20em",overflowWrap:"break-word"},body:L=>Ye(L),headerClassName:"text-center"}),e.jsx(q,{field:"Remarks",style:{minWidth:"30em",maxWidth:"30em",overflowWrap:"break-word"},header:"Remarks",headerClassName:"text-center"})]})})]})})})},Ke=()=>{const b=Me(),D=Re(),l=u.useRef(null),[V,w]=u.useState(null),[J,r]=u.useState();u.useState(0);const[f,U]=u.useState(""),[g,M]=u.useState(null),[N,v]=u.useState([]),[j,I]=u.useState([]),[P,S]=u.useState(!1),[O,W]=u.useState(),[h,Y]=u.useState(null),[L,B]=u.useState(null),G=u.useRef(),H=u.useRef(),{isCreate:E,isView:R,createEditData:Z,loading:k,error:_,StatusList:$,HdrTable:a,RoleList:K,DepartmentList:Q,BloodGroupList:re,createOrEdit:ee,EmployeeTypeList:x,GenderList:Ne,MaritalStatusList:je,ReportingPerson:Se,ReportingPersonList:we,EmployeeList:Ee,EmployeeDocumentDetailList:te}=ke(t=>t.employee);u.useEffect(()=>{Ve()}),u.useEffect(()=>{ae()},[]);const ae=()=>{const t=new Date;t.setFullYear(t.getFullYear()-18),Y(t)};u.useEffect(()=>{if(E&&h){const t=new Date;t.setFullYear(h.getFullYear()+18),B(t)}},[h]),u.useEffect(()=>{E&&(y.setFieldValue("Dob",h),le({target:{value:h}}))},[h]),u.useEffect(()=>{if(E==!1){let d=[];for(let o=0;o<te.length;o++){const s=te[o];let m={};m.EmployeeDocumentDetailId=0,m.EmployeeId=s.EmployeeId??0,m.DocumentName=s.DocumentName,m.DocumentNo=s.DocumentNo,m.AttachmentUrl=s.AttachmentUrl,m.AttachmentName=s.AttachmentName,m.Remarks=s.Remarks,d.push(m),ie(m.DocumentUrl).then(i=>{const X=new File([i],m.DocumentName,{type:"image/*",lastModified:1695716506050});I([...j,X])}).catch(i=>{console.error("Error fetching image:",i)})}v(d),ie(a.ImageUrl).then(o=>{const s=new File([o],a.ImageName,{type:"image/*",lastModified:1695716506050});w(s),r(a.ImageName),z(a.ImageUrl)}).catch(o=>{})}else{ae();var t=D(Pe({EmployeeId:0,Taskname:"CREATEINITIALIZE"}));t.then(o=>{var s;o.payload.transtatus.result||(s=l.current)==null||s.show({severity:"warn",summary:"Error Message",detail:o.payload.transtatus.lstErrorItem[0].Message})}).catch(o=>{var s;(s=l.current)==null||s.show({severity:"warn",summary:"Error Message",detail:JSON.stringify(o)})})}},[]);async function ie(t){const d=await fetch(t);if(!d.ok)throw new Error(`Failed to fetch image: ${d.statusText}`);return await d.blob()}const[ne,z]=u.useState(se.NO_IMG),ve={EmployeeId:a!=null?a.EmployeeId:0,CompanyId:a!=null?a.CompanyId:localStorage.CompanyId,PlantId:a!=null?a.PlantId:localStorage.PlantId,EmployeeCode:a!=null?a.EmployeeCode:"",FirstName:a!=null?a.FirstName:"",LastName:a!=null?a.LastName:"",Dob:a!=null?new Date(a.Dob):h,Age:a!=null?a.Age:"",DesignationId:a!=null?a.DesignationId:null,DeptId:a!=null?a.DeptId:"",Email:a!=null?a.Email:"",PrimaryMobileNo:a!=null?a.PrimaryMobileNo:"",SecondaryMobileNo:a!=null?a.SecondaryMobileNo:"",MaritalStatus:a!=null?a.MaritalStatus:46,Gender:a!=null?a.Gender:49,EmpTypeId:a!=null?a.EmpTypeId:30,BiometricId:a!=null?a.BiometricId:1,IdcardNo:a!=null?a.IdcardNo:"",BloodGroup:a!=null?a.BloodGroup:56,DateOfJoining:a!=null?new Date(a.DateOfJoining):"",ReleavingDate:a!=null&&a.ReleavingDate!=null?new Date(a.ReleavingDate):"",ReportingPerson:a!=null?a.ReportingPerson:"",Address:a!=null?a.Address:"",ImageName:a!=null?a.ImageName:"",ImageUrl:a!=null?a.ImageUrl:"",Status:a!=null?a.Status:1,CreatedBy:a!=null?a.CreatedBy:localStorage.UserId,CreatedOn:a!=null?new Date(a.CreatedOn):new Date,ModifiedBy:a!=null?localStorage.UserId:null,ModifiedOn:a!=null?new Date:""},de={EmployeeDocumentDetailId:0,EmployeeId:0,DocumentName:"",DocumentNo:"",AttachmentUrl:"",AttachmentName:"",Remarks:""},y=ye({initialValues:ve,validationSchema:be,onSubmit:(t,{resetForm:d})=>{S(!0);const o=new FormData;let s=[];for(let A=0;A<N.length;A++){const c=N[A];let p={};p.EmployeeDocumentDetailId=0,p.EmployeeId=0,p.DocumentName=c.DocumentName,p.DocumentNo=c.DocumentNo,p.AttachmentUrl=c.AttachmentUrl,p.AttachmentName=c.AttachmentName,p.Remarks=c.Remarks,s.push(p)}E||t.ReleavingDate&&(t.ReleavingDate=new Date(t.ReleavingDate).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})),t.Dob=new Date(t.Dob).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),t.DateOfJoining=new Date(t.DateOfJoining).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),t.ModifiedOn&&(t.ModifiedOn=new Date(t.ModifiedOn).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),t.CreatedOn=new Date(t.CreatedOn).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});let i=JSON.stringify({Employee:t,EmployeeDocumentDetail:s});o.append("input",i),o.append("webfile",V);for(var X in j){var Ue=s.findIndex(A=>A.AttachmentName==j[X].name);Ue!=-1&&o.append("webfiles",j[X])}a!=null?a.isCreate!=!1&&D(Ge(o)).then(c=>{var p,T;S(!1),(c.payload!=null||!c.payload)&&(c.payload.transtatus.result==!0?(S(!1),(p=l.current)==null||p.show({severity:"success",summary:"Success Message",detail:c.payload.transtatus.lstErrorItem[0].Message}),setTimeout(()=>{b.push("/home/vEmployee")},800)):c.payload.transtatus.result==!1&&(S(!1),(T=l.current)==null||T.show({severity:"warn",summary:"Error Message",detail:c.payload.transtatus.lstErrorItem[0].Message})))}):D(Te(o)).then(c=>{var p,T;if(c.payload!=null||!c.payload){if(c.payload.transtatus.result==!0)(p=l.current)==null||p.show({severity:"success",summary:"Success Message",detail:c.payload.transtatus.lstErrorItem[0].Message}),S(!1),ce();else if(c.payload.transtatus.result==!1){(T=l.current)==null||T.show({severity:"warn",summary:"Error Message",detail:c.payload.transtatus.lstErrorItem[0].Message}),S(!1);return}}}).catch(c=>{var p;(p=l.current)==null||p.show({severity:"warn",summary:"Error Message",detail:JSON.stringify(c.payload)})})}}),C=ye({initialValues:de,validationSchema:qe,onSubmit:(t,{resetForm:d})=>{var s,m;if(!t.AttachmentName||t.AttachmentName==""){(s=l.current)==null||s.show({severity:"error",summary:"Error Message",detail:"Please Upload the Document"});return}if(N.filter(i=>i.DocumentName==t.DocumentName).length>0)(m=l.current)==null||m.show({severity:"error",summary:"Error Message",detail:"Document Name is Already Exists"});else{let i={};i.EmployeeDocumentDetailId=0,i.EmployeeId=0,i.DocumentName=t.DocumentName,i.DocumentNo=t.DocumentNo,i.AttachmentUrl=t.AttachmentUrl,i.AttachmentName=t.AttachmentName,i.Remarks=t.Remarks,v([...N,i]),g&&(j.length>0?I([...j,g]):I([g])),me()}}}),me=()=>{C.resetForm(),M(null),U("")},ce=()=>{y.resetForm(),C.resetForm(),y.setFieldValue("Dob",h);let t={target:{value:new Date(h)}};le(t),w(null),z(se.NO_IMG),v([]),U("")},ue=()=>{var t;(t=H.current)==null||t.clear(),z(se.NO_IMG),w(null),y.setFieldValue("ImageName",""),y.setFieldValue("ImageUrl","")},pe=(t,d,o)=>{y.setFieldValue(t,o)},Ie=()=>e.jsxs("div",{className:"flex align-items-center flex-column",children:[e.jsx("i",{className:"pi pi-image mt-3 p-5",style:{fontSize:"5em",borderRadius:"50%",backgroundColor:"var(--surface-b)",color:"var(--surface-d)"}}),e.jsx("span",{style:{fontSize:"1.2em",color:"var(--text-color-secondary)"},className:"my-5",children:"Drag and Drop Image Here"})]}),le=t=>{const d=t.target.value,s=new Date(d).getFullYear(),i=new Date().getFullYear()-s;y.setFieldValue("Age",i),ge(t)},Le=t=>{var o,s,m;const d=["jpeg","jpg","png"];if(ne!=""&&ue(),t.files&&!he(t.files[0],d)){(o=l.current)==null||o.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG)"}),(s=H.current)==null||s.clear();return}if(t.files.length>0){w(t.files[0]),y.setFieldValue("ImageName",t.files[0].name);const i=URL.createObjectURL(t.files[0]);y.setFieldValue("ImageUrl",i),z(i)}else{(m=l.current)==null||m.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG)"});return}},he=(t,d)=>{const o=t.name.slice((t.name.lastIndexOf(".")-1>>>0)+2).toLowerCase(),s=t.type.toLowerCase();return d.includes(o)||d.includes(s)},Fe=t=>{var o,s,m;const d=["jpeg","jpg","png","pdf","doc","docx","xls","xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"];if(t.files&&!he(t.files[0],d)){(o=l.current)==null||o.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG & DOC/ WORD, EXCEL, PDF)"}),(s=G.current)==null||s.clear();return}if(t.files.length>0){M(t.files[0]),C.setFieldValue("AttachmentName",t.files[0].name);const i=URL.createObjectURL(t.files[0]);C.setFieldValue("AttachmentUrl",i),U(i)}else(m=l.current)==null||m.show({severity:"warn",summary:"Error Message",detail:"Please Upload only Files with Format (Image/ JPEG, JPG, PNG & DOC/ WORD, EXCEL, PDF)"})},Ce=()=>{var t;(t=G.current)==null||t.clear(),C.setFieldValue("AttachmentName",""),C.setFieldValue("AttachmentUrl",null),U(""),M(null)},ge=t=>{if(h){const d=t.target.value,o=new Date(d),s=new Date(o);s.setFullYear(o.getFullYear()+18),B(s),y.setFieldValue("DateOfJoining",s)}},Ae=t=>{y.setFieldValue(t.target.name,t.value)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-container",children:e.jsxs("div",{className:"inner-page-container",children:[e.jsx("div",{className:"page-title",children:e.jsxs("div",{className:"grid grid-nogutter",children:[e.jsx("div",{className:"md:col-6",children:e.jsx("h1",{children:"Employee"})}),e.jsx("div",{className:"md:col-6 text-right",children:e.jsxs("div",{className:"action-btn",children:[e.jsxs(e.Fragment,{children:[e.jsx(F,{label:"",title:"Save",icon:"pi pi-save",className:"text-center",type:"submit",disabled:!!(R||P),onClick:()=>y.handleSubmit()}),e.jsx(F,{label:"",severity:"danger",icon:"pi pi-trash",title:"Clear",className:"text-center",disabled:!!(R||E==!1),onClick:ce})]}),e.jsx(F,{label:"",icon:"pi pi-search",title:"Back to Search",className:"p-button p-button-success text-center",onClick:()=>{b.push("/home/vEmployee")}})]})})]})}),k?e.jsx(oe,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form-container scroll-y",children:[e.jsx(De,{isCreate:E,isView:R,createEditData:Z,loading:k,error:_,StatusList:$,HdrTable:a,EmployeeList:Ee,formik:y,handleSelect:pe,RoleList:K,DepartmentList:Q,BloodGroupList:re,createOrEdit:ee,EmployeeTypeList:x,GenderList:Ne,MaritalStatusList:je,ReportingPerson:Se,ReportingPersonList:we,onUpload:Le,EmployeeDocumentDetailList:te,maxDateDob:O,date18YearsAgo:h,date18YearsAfter:L,onChangeDob:ae,itemTemplate:Ie,imageUrl:ne,agecalc:le,handleCloseImage:ue,handleChangeDate:Ae,handleChangeDob:ge,imageUploadRef:H}),e.jsx(Be,{isCreate:E,isView:R,createEditData:Z,loading:k,error:_,StatusList:$,HdrTable:a,formik:C,handleSelect:pe,employeeDetailList:N,employeeDetailForm:de,OnClear:me,setEmployeeDetailList:v,onUploadDocument:Fe,ClearFileUpload:Ce,AttachmentUrl:f,documentUploadRef:G})]})})]})}),k?e.jsx(oe,{}):null,e.jsx(Oe,{toast:l})]})};export{Ke as default};
